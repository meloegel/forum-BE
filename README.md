# [Trash_Can] FE

## Created By: Mark Loegel

## Documentation:

Base URL for Deployed API: <br>
Front-End Github: <br>
Front-End Deployment: <br>

## About

[ Trash_Can ] was created by Mark Loegel to practice my programming skills as well as create a place to post garbage among friends. [ Trash_Can ] is an account only site, to view the garbage posted here create and account. From your account you can post your own trash or comment on someone elses trash.

## Technologies Used

-Node <br>
-Express <br>
-Knex <br>
-Bcryptjs<br>
-Helmet<br>
-Jsonwebtoken<br>
-PostgresSQL3<br>

## Endpoints

| Request | URL                                | Description                  | Requires Token | Requires Account |
| ------- | ---------------------------------- | ---------------------------- | -------------- | ---------------- |
| POST    | /api/auth/register                 | register as a new user       | -              | -                |
| POST    | /api/auth/login                    | login as existing user       | -              | -                |
| GET     | /api/auth/users/                   | gets all users               | X              | N/A              |
| GET     | /api/auth/users/:id                | gets a user                  | X              | X                |
| PUT     | /api/auth/users/:id                | updates a user               | X              | X                |
| DELETE  | /api/auth/users/:id                | deletes a user               | X              | N/A              |
| GET     | /api/auth/forum/                   | gets all topics              | X              | X                |
| GET     | /api/auth/forum/topic/:id          | get a topic                  | X              | X                |
| GET     | /api/auth/forum/topic/:id/comments | get all comments for a topic | X              | X                |
| GET     | /api/auth/forum/user/:id/topics    | get a users topics           | X              | X                |
| POST    | /api/auth/forum/                   | add topic                    | X              | X                |
| POST    | /api/auth/forum/comment            | add comment                  | X              | X                |
| PUT     | /api/auth/forum/:id                | update topic                 | X              | X                |
| DELETE  | /api/auth/forum/:id                | delete topic                 | X              | X                |
| DELETE  | /api/auth/forum/comment/:id        | delete comment               | X              | X                |

## **Table Requirements**

## **Users**

| Name     | Type    | Required | Unique | Notes                           |
| -------- | ------- | -------- | ------ | ------------------------------- |
| id       | integer | yes      | yes    | User id (auto generated by API) |
| username | string  | yes      | yes    | User's username                 |
| password | string  | yes      | no     | User's password                 |
| avatar   | string  | no       | no     | html url of users avatar        |
| location | string  | no       | no     | location of user                |
| email    | string  | no       | no     | email of user                   |
| quote    | string  | no       | no     | quote for user                  |

## **Topics**

| Name        | Type      | Required | Unique | Notes                      |
| ----------- | --------- | -------- | ------ | -------------------------- |
| id          | integer   | yes      | yes    | Id (auto generated by API) |
| topic       | string    | yes      | no     | Topic                      |
| photoTopic  | string    | no       | no     | Photo for topic (URL link) |
| videoTopic  | string    | no       | no     | Video for topic (URL link) |
| timePosted  | timestamp | no       | no     | Time topic was posted      |
| description | string    | no       | no     | Body of topic              |
| userIdTopic | integer   | yes      | no     | Id of user posting         |

## **Comments**

| Name         | Type    | Required | Unique | Notes                        |
| ------------ | ------- | -------- | ------ | ---------------------------- |
| id           | integer | yes      | yes    | Id (auto generated by API)   |
| comment      | string  | yes      | no     | Comment                      |
| photoComment | string  | no       | no     | Photo for comment (URL link) |
| videoComment | string  | no       | no     | Video for comment (URL link) |
| gif          | string  | no       | no     | GIF for comment (URL link)   |
| topicId      | integer | yes      | no     | Id of topic                  |
| userIdTopic  | integer | yes      | no     | Id of user posting           |

## **Requests and Returns**

### POST /api/auth/register

Request Body:

```
{
    "username": "BobbyBoucher",
    "password": "asdasd",
}
```

Returns:

```
{
    "data": {
        "username": "BobbyBoucher",
        "password": "$2a$10$/RqzR6JBVXeTYSGHwLdsQOItb56bUB5Hr1RanRyC0b1PayVchwRnO"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE1OTU3MjcyMDQsImV4cCI6MTU5NjU5MTIwNH0.CTp5cRIYGPpjrmS7kfyE4_CzxLgA_-FvzxkDk_wpHWs"
}
```

### POST /api/auth/login

Request Body:

```
{
    "username": "BobbyBoucher",
    "password": "asdasd",
}
```

Returns:

```
{
    "message": "Welcome",
    "user": {
        "id": 2,
        "username": "BobbyBoucher",
        "password": "$2a$10$X4HNtDPHV3dhucUGlPYE8ONefcIzt8tX2GV3H0P/.oogb78S.X3yG",
        "avatar": "https://i1.sndcdn.com/artworks-000585482786-7cozwy-t500x500.jpg",
        "location": "Detroit, MI",
        "email": "email@email.com",
        "quote": "H2O for Life!"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWJqZWN0IjoyLCJ1c2VybmFtZSI6IkJvYmJ5Qm91Y2hlciIsImlhdCI6MTYxMTg3NzEwNCwiZXhwIjoxNjEyNzQxMTA0fQ.kYONAl-yciTgBAdHx95OEUype9qpgYl-lkzddZWECs8"
}

```

### GET /api/auth/users/

Returns:

```
[
    {
        "id": 1,
        "username": "ForumPoster",
        "password": "$2a$10$X4HNtDPHV3dhucUGlPYE8ONefcIzt8tX2GV3H0P/.oogb78S.X3yG",
        "avatar": "https://upload.wikimedia.org/wikipedia/en/9/9a/Trollface_non-free.png",
        "location": "Detroit, MI",
        "email": "email@email.com",
        "quote": "I love posting random shit!"
    },
    {
        "id": 2,
        "username": "BobbyBoucher",
        "password": "$2a$10$X4HNtDPHV3dhucUGlPYE8ONefcIzt8tX2GV3H0P/.oogb78S.X3yG",
        "avatar": "https://i1.sndcdn.com/artworks-000585482786-7cozwy-t500x500.jpg",
        "location": "Detroit, MI",
        "email": "email@email.com",
        "quote": "H2O for Life!"
    },
    ....
```

### GET /api/auth/users/:id

Returns:

```
{
    "id": 2,
    "username": "BobbyBoucher",
    "password": "$2a$10$X4HNtDPHV3dhucUGlPYE8ONefcIzt8tX2GV3H0P/.oogb78S.X3yG",
    "avatar": "https://i1.sndcdn.com/artworks-000585482786-7cozwy-t500x500.jpg",
    "location": "Detroit, MI",
    "email": "email@email.com",
    "quote": "H2O for Life!"
}
```

### PUT /api/auth/users/:id

Request Body:

```
{
    "id": 2,
    "username": "BobbyBoucher",
    "password": "$2a$10$X4HNtDPHV3dhucUGlPYE8ONefcIzt8tX2GV3H0P/.oogb78S.X3yG",
    "avatar": "https://i1.sndcdn.com/artworks-000585482786-7cozwy-t500x500.jpg",
    "location": "Detroit, MI",
    "email": "email@email.com",
    "quote": "H2O for Life!"
}
```

Returns:

```
{
    "Message": "Updated user with is: 2",
    "updatedUser": 1
}
```

### DELETE /api/auth/users/:id

Returns:

```
{
    "Message": "User with id: 4 has been deleted"
}
```

### GET /api/auth/forum/

Returns:

```
[
    {
        "id": 1,
        "topic": "Why is the sky blue",
        "photoTopic": "https://eus-www.sway-cdn.com/s/lS9lnvgYelIJHUrK/images/Q-RqK_GAjZjzbG?quality=960&allowAnimation=false",
        "videoTopic": null,
        "description": "Wondering why the sky is blue",
        "timePosted": "2021-01-14 20:27:31",
        "userIdTopic": 1
    },
    {
        "id": 2,
        "topic": "Test topic",
        "photoTopic": null,
        "videoTopic": "https://www.youtube.com/watch?v=8hkY31-muFo",
        "description": "Good album",
        "timePosted": "2021-01-14 20:27:31",
        "userIdTopic": 1
    },
    ...
```

### GET /api/auth/forum/topic/:id

Returns:

```
{
    "id": 1,
    "topic": "Why is the sky blue",
    "photoTopic": "https://eus-www.sway-cdn.com/s/lS9lnvgYelIJHUrK/images/Q-RqK_GAjZjzbG?quality=960&allowAnimation=false",
    "videoTopic": null,
    "description": "Wondering why the sky is blue",
    "timePosted": "2021-01-14 20:27:31",
    "userIdTopic": 1
}
```

### GET /api/auth/forum/topic/:id/comments

### GET /api/auth/forum/user/:id/topics

### POST /api/auth/forum/

### POST /api/auth/forum/comment

### PUT /api/auth/forum/:id

### DELETE /api/auth/forum/:id

### DELETE /api/auth/forum/comment/:id
